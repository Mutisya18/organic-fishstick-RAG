{"event": "session_start", "session_id": "8db5b81e-d8f6-4a60-af60-2db6da4a46a3", "system_version": "1.0.0", "environment": "dev", "start_time": "2026-01-20T09:05:47.293312+00:00Z", "timestamp": "2026-01-20T09:05:47.293+00:00Z"}
{"event": "function_call", "function_name": "query_rag", "file_path": "/workspaces/rag-tutorial-v2/query_data.py", "line_number": 23, "thread_id": 137712525817664, "process_id": 28096, "timestamp": "2026-01-20T09:05:47.295+00:00Z", "args": "('what is a digital loan',)", "kwargs": "{}", "severity": "DEBUG", "session_id": "8db5b81e-d8f6-4a60-af60-2db6da4a46a3"}
{"event": "retrieval_complete", "request_id": "a8beaf07-09a0-4139-86ef-998c67c78f3c", "timestamp": "2026-01-20T09:05:53.333+00:00Z", "retrieval_metadata": {"top_k": 5, "retrieved_count": 5, "chunk_ids": ["data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf:8:1", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf:6:0", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf:39:1", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf:0:0", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf:41:0"], "similarity_scores": [0.6772948503494263, 0.6797319650650024, 0.6967657804489136, 0.7263466715812683, 0.7329038381576538], "source_documents": ["data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf", "data/NCBAK Retail Banking Lending for All 2025 procedure document.doc.pdf"]}, "query_metadata": {"query_summary": "what is a digital loan", "query_pii_flagged": false}, "latency_ms": 6037.918329238892, "severity": "INFO", "session_id": "8db5b81e-d8f6-4a60-af60-2db6da4a46a3"}
{"event": "error", "request_id": "a8beaf07-09a0-4139-86ef-998c67c78f3c", "timestamp": "2026-01-20T09:14:02.703+00:00Z", "error": {"type": "ReadError", "message": "[SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2559)", "traceback": null}, "severity": "ERROR", "session_id": "8db5b81e-d8f6-4a60-af60-2db6da4a46a3"}
{"event": "function_exception", "function_name": "query_rag", "file_path": "/workspaces/rag-tutorial-v2/query_data.py", "line_number": 23, "thread_id": 137712525817664, "process_id": 28096, "timestamp": "2026-01-20T09:14:02.712+00:00Z", "duration_ms": 495408.42390060425, "error_type": "ReadError", "error_message": "[SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2559)", "traceback": "Traceback (most recent call last):\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_transports/default.py\", line 101, in map_httpcore_exceptions\n    yield\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_transports/default.py\", line 127, in __iter__\n    for part in self._httpcore_stream:\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py\", line 407, in __iter__\n    raise exc from None\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/connection_pool.py\", line 403, in __iter__\n    for part in self._stream:\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/http11.py\", line 342, in __iter__\n    raise exc\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/http11.py\", line 334, in __iter__\n    for chunk in self._connection._receive_response_body(**kwargs):\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/http11.py\", line 203, in _receive_response_body\n    event = self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_sync/http11.py\", line 217, in _receive_event\n    data = self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_backends/sync.py\", line 126, in read\n    with map_exceptions(exc_map):\n  File \"/usr/local/python/3.12.1/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpcore/_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadError: [SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2559)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/workspaces/rag-tutorial-v2/logger/trace.py\", line 65, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File \"/workspaces/rag-tutorial-v2/query_data.py\", line 98, in query_rag\n    response_text = model.invoke(prompt)\n                    ^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_core/language_models/llms.py\", line 378, in invoke\n    self.generate_prompt(\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_core/language_models/llms.py\", line 789, in generate_prompt\n    return self.generate(prompt_strings, stop=stop, callbacks=callbacks, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_core/language_models/llms.py\", line 1011, in generate\n    return self._generate_helper(\n           ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_core/language_models/llms.py\", line 815, in _generate_helper\n    self._generate(\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_ollama/llms.py\", line 456, in _generate\n    final_chunk = self._stream_with_aggregation(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_ollama/llms.py\", line 415, in _stream_with_aggregation\n    for stream_resp in self._create_generate_stream(prompt, stop, **kwargs):\n  File \"/home/codespace/.local/lib/python3.12/site-packages/langchain_ollama/llms.py\", line 359, in _create_generate_stream\n    yield from self._client.generate(\n  File \"/home/codespace/.local/lib/python3.12/site-packages/ollama/_client.py\", line 181, in inner\n    for line in r.iter_lines():\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_models.py\", line 929, in iter_lines\n    for text in self.iter_text():\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_models.py\", line 916, in iter_text\n    for byte_content in self.iter_bytes():\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_models.py\", line 897, in iter_bytes\n    for raw_bytes in self.iter_raw():\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_models.py\", line 951, in iter_raw\n    for raw_stream_bytes in self.stream:\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_client.py\", line 153, in __iter__\n    for chunk in self._stream:\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_transports/default.py\", line 126, in __iter__\n    with map_httpcore_exceptions():\n  File \"/usr/local/python/3.12.1/lib/python3.12/contextlib.py\", line 158, in __exit__\n    self.gen.throw(value)\n  File \"/home/codespace/.local/lib/python3.12/site-packages/httpx/_transports/default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadError: [SSL: DECRYPTION_FAILED_OR_BAD_RECORD_MAC] decryption failed or bad record mac (_ssl.c:2559)\n", "severity": "ERROR", "session_id": "8db5b81e-d8f6-4a60-af60-2db6da4a46a3"}
