# Maximum number of previous messages to include in LLM context
CONTEXT_MESSAGE_LIMIT=5
################################################################################
# RAG CHATBOT WITH ELIGIBILITY MODULE - ENVIRONMENT CONFIGURATION
################################################################################

# =============================================================================
# OLLAMA/LLM CONFIGURATION
# =============================================================================

# Ollama server base URL
# Local: http://localhost:11434
# Remote (ngrok): https://your-ngrok-url.ngrok-free.dev
OLLAMA_BASE_URL=https://reynalda-unmelodized-miles.ngrok-free.dev

# =============================================================================
# RAG PROVIDER CONFIGURATION (Embeddings & Generation)
# =============================================================================

# Active embedding provider: ollama or gemini
ACTIVE_EMBEDDING_PROVIDER=gemini

# Active generation provider: ollama or gemini
ACTIVE_GENERATION_PROVIDER=gemini

# Gemini API key (required only if using gemini provider)
# Get one at: https://aistudio.google.com/app/apikeys
# Using: google-genai package (latest, google.generativeai is deprecated)
# Embedding model: gemini-embedding-001 (3072-dim)
# Generation model: gemini-2.0-flash

#GEMINI_API_KEY=AIzaSyAiEOHESag5MAfWvVi3KuLS7t2gUa4q7Bg
#2
GEMINI_API_KEY=AIzaSyBmF2VJJrd-1H0SeO4ESSx1ssBiit9SfKo
# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Directory where session logs are stored
# Logs are JSON-formatted and rotated based on idle time or age
LOG_DIR=/workspaces/organic-fishstick-RAG/logs

# Log file rotation - idle timeout in seconds (15 minutes)
# When no activity for this duration, a new log file is created
IDLE_TIMEOUT_SECONDS=900

# Log file rotation - maximum age in seconds (60 minutes)
# Log files are rotated after reaching this age regardless of activity
MAX_AGE_SECONDS=3600

# Environment label for logs (dev, staging, prod)
ENV=dev

# =============================================================================
# DATA & DATABASE PATHS
# =============================================================================

# Path to Chroma vector database (stores PDF/DOCX embeddings)
CHROMA_PATH=rag/chroma

# Path to data directory (contains PDF and DOCX files for RAG ingestion)
DATA_PATH=rag/data

# Path to eligibility data directory (contains Excel files for eligibility checks)
ELIGIBILITY_DATA_PATH=eligibility/data

# =============================================================================
# DATABASE CONFIGURATION (Chat History & Conversation Memory)
# =============================================================================

# Database type: sqlite (development) or postgresql (production)
DATABASE_TYPE=sqlite

# Database connection URL
# SQLite: sqlite:///chat_history.db (auto-created in project root)
# PostgreSQL: postgresql://user:password@localhost:5432/chatbot_db
DATABASE_URL=

# How long to wait (seconds) before database initialization times out
DATABASE_TIMEOUT=30

# Connection pool size (PostgreSQL only)
DATABASE_POOL_SIZE=5

# Max overflow connections beyond pool size (PostgreSQL only)
DATABASE_MAX_OVERFLOW=5

# Timeout to get a connection from pool (seconds)
DATABASE_POOL_TIMEOUT=30

# Recycle connections after this many seconds (PostgreSQL only, prevents stale connections)
DATABASE_POOL_RECYCLE=3600

# Max retries when initializing database on startup
DATABASE_INIT_RETRY_COUNT=3

# Initial delay between retries in milliseconds (exponential backoff)
DATABASE_INIT_RETRY_DELAY_MS=100

# Log all SQL queries (debug mode): true or false
DATABASE_ECHO=false

# =============================================================================
